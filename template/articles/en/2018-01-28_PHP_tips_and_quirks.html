<!DOCTYPE html><html lang="en"><base href="../../.."><meta name="description" content="Let's learn some fun tips and quirks of PHP"><title>PHP tips and quirks</title><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"><link rel="stylesheet" href="css/layouts/blog.css"><!--[if lte IE 8]><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-old-ie-min.css"><![endif]-->
<!--[if gt IE 8]><!--><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css"><!--<![endif]-->
<!--[if lte IE 8]><link rel="stylesheet" href="css/layouts/blog-old-ie.css"><![endif]-->
<!--[if gt IE 8]><!--><link rel="stylesheet" href="css/layouts/blog.css"><!--<![endif]--><link rel="stylesheet" href="css/layouts/articles.css"><meta name="description" content="Let's learn some fun tips and quirks of PHP"><title>PHP tips and quirks</title></head><!--script(src='/jquery.js')--><body><div class="pure-g" id="layout"><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><h1 class="brand-title">Julien's Blog</h1><h2 class="brand-tagline">Learning for fun and profits!</h2><nav class="nav"><ul class="nav-list"><li class="nav-item"><a class="pure-button" href="index.html">Home</a></li><li class="nav-item"><a class="pure-button" href="template/about.html">About</a></li><li class="nav-item nav-item-traduction"><a class="pure-button" href="template/articles/fr/2018-01-28_PHP_tips_and_quirks.html"><img src="img/common/002-france.png" alt="Version franÃ§aise"></a></li></ul></nav></div></div><div class="content pure-u-1 pure-u-md-3-4"><h2>PHP tips and quirks</h2>
<p>This week I learned two new things about PHP, so I'm gonna share them here (even if it isn't something new, only new for me). Also, as with all the material I intend to write here, it's more about writing it to remember it and being able to reference it later.</p>
<p>End of the digression, here are the tips and quirks:</p>
<h2>Tip: Usage of both <code>empty</code> and <code>isset</code></h2>
<p>I came to see this <a href="https://stackoverflow.com/q/4559925/3729797">StackOverflow post</a>, which basically asked</p>
<blockquote>
<p>Is is redundant to write <code>isset($var) AND !empty($var)</code>?</p>
</blockquote>
<p>And the answer is: <a href="https://stackoverflow.com/a/4559976/3729797">YES</a>!</p>
<p>As stated in the answer, the <a href="http://php.net/empty">documentation</a> tells us (emphasis mine):</p>
<blockquote>
<p>Determine whether a variable is considered to be empty. <strong>A variable is considered empty if it does not exist</strong> or if its value equals FALSE. empty() does not generate a warning if the variable does not exist.</p>
</blockquote>
<p>A bit later, the documentation states:</p>
<blockquote>
<p><code>empty()</code> is essentially the concise equivalent to <code>!isset($var) || $var == false</code>.</p>
</blockquote>
<p>Good thing to know, I was using quite often both functions, and even if it's not really a big deal, I guess it's cleaner to use only <code>empty</code> in this situation. Also performance-wise, we can see the opcodes generated by the different snippets of codes on <a href="https://3v4l.org">3v4l.org</a>.</p>
<p><a href="https://3v4l.org/EccAc/vld#output">Here is the opcodes</a> for</p>
<pre><code>if(isset($var) AND !empty($var))
    echo $var;
</code></pre>
<p>And <a href="https://3v4l.org/oCGDk/vld#output">here is the opcodes</a> for</p>
<pre><code>if(!empty($var))
    echo $var;
</code></pre>
<p>The first snippet generate 8 opcodes while the second one only 5. Most of the time it probably doesn't matter but I guess it's better to know it than not.</p>
<h2>Quirk</h2>
<p>The quirk I want to show is something I found out this week on Reddit and is one of the weird behavior of PHP.
Try to guess what this code output:</p>
<pre><code>&lt;?php

$a = 1;
$c = $a + $a++;
var_dump($c);

$a = 1;
$c = $a + $a + $a++;
var_dump($c);
</code></pre>
<p>If you guessed</p>
<pre><code>int(3)
int(3)
</code></pre>
<p>You are right but you probably cheated or knew beforehand of this strange result!</p>
<p>A very good explanation of why it acts like this is given <a href="https://gist.github.com/nikic/6699370">here</a>. A very quick resume of the situation is that there is an optimization that appeared in PHP5.1 that caused this strange behavior.</p>
<p>That's a rather peculiar result, and it might be quite hard to debug! Go check the explanation, it's really well explained. Also for more quirks, see <a href="https://www.reddit.com/r/lolphp/">this subreddit</a>, some of the posts are really good and fun.</p>
<hr>
<p>That's all for today. Being relatively new to PHP (I started to write code in PHP at the start of September 2017, 4 months ago), I discover a lot of those tips and quirks and I'll share those interesting bits of knowledge as I learn about them.</p>
</div></div><div class="footer"><div class="pure-menu pure-menu-horizontal"><ul><li class="pure-menu-item"><a class="pure-menu-link" href="https://github.com/JulienRouse" target="_blank" rel="external">Github</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="https://www.linkedin.com/in/julien-rous%C3%A9-073708102/" target="_blank" rel="external">Linkedin</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="https://www.hackerrank.com/JulienRouse" target="_blank" rel="external">HackerRank</a></li><li class="pure-menu-item"><a href="https://stackexchange.com/users/1191576/julien-rous%c3%a9" target="_blank" rel="external"><img src="https://stackexchange.com/users/flair/1191576.png" width="208" height="58" alt="profile for Julien Rous&amp;#233; on Stack Exchange, a network of free, community-driven Q&amp;amp;A sites" title="profile for Julien Rous&amp;#233; on Stack Exchange, a network of free, community-driven Q&amp;amp;A sites"></a></li></ul></div></div><!--<a title="Google Analytics Alternative" href="http://clicky.com/101093377"><img alt="Google Analytics Alternative" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>-->
<script type="text/javascript">
    var clicky_site_ids = clicky_site_ids || [];
    clicky_site_ids.push(101093377);
    (function() {
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//static.getclicky.com/js';
        ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
    })();
</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101093377ns.gif" /></p></noscript></body></html>