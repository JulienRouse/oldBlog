## PHP tips and quirks ##

This week I learned two new things about PHP, so I'm gonna share them here (even if it isn't something new, only new for me). Also, as with all the material I intend to write here, it's more about writing it to remember it and being able to reference it later.

End of the digression, here are the tips and quirks:

## Tip: Usage of both `empty` and `isset` ##

I came to see this [StackOverflow post](https://stackoverflow.com/q/4559925/3729797), which basically asked

> Is is redundant to write `isset($var) AND !empty($var)`?

And the answer is: [YES](https://stackoverflow.com/a/4559976/3729797)!

As stated in the answer, the [documentation](http://php.net/empty) tells us (emphasis mine):

> Determine whether a variable is considered to be empty. **A variable is considered empty if it does not exist** or if its value equals FALSE. empty() does not generate a warning if the variable does not exist.

A bit later, the documentation states:

> `empty()` is essentially the concise equivalent to `!isset($var) || $var == false`.

Good thing to know, I was using quite often both functions, and even if it's not really a big deal, I guess it's cleaner to use only `empty` in this situation. Also performance-wise, we can see the opcodes generated by the different snippets of codes on [3v4l.org](https://3v4l.org).

[Here is the opcodes](https://3v4l.org/EccAc/vld#output) for 
    
    if(isset($var) AND !empty($var))
        echo $var;


And [here is the opcodes](https://3v4l.org/oCGDk/vld#output) for

    if(!empty($var))
        echo $var;

The first snippet generate 8 opcodes while the second one only 5. Most of the time it probably doesn't matter but I guess it's better to know it than not.

## Quirk ##

The quirk I want to show is something I found out this week on Reddit and is one of the weird behavior of PHP.
Try to guess what this code output:


    <?php
    
    $a = 1;
    $c = $a + $a++;
    var_dump($c);
    
    $a = 1;
    $c = $a + $a + $a++;
    var_dump($c);


If you guessed

    int(3)
    int(3)

You are right but you probably cheated or knew beforehand of this strange result!

A very good explanation of why it acts like this is given [here](https://gist.github.com/nikic/6699370). A very quick resume of the situation is that there is an optimization that appeared in PHP5.1 that caused this strange behavior.

That's a rather peculiar result, and it might be quite hard to debug! Go check the explanation, it's really well explained. Also for more quirks, see [this subreddit](https://www.reddit.com/r/lolphp/), some of the posts are really good and fun.

----------

That's all for today. Being relatively new to PHP (I started to write code in PHP at the start of September 2017, 4 months ago), I discover a lot of those tips and quirks and I'll share those interesting bits of knowledge as I learn about them.
